<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>LogScrubber</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<h2 id="range"></h2>
<div id="chart_div" style="margin: 0 auto; display: block; width: 100%; height: 800px"></div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>
//    <![CDATA[
var client = new XMLHttpRequest();
var json;

google.charts.load('current', {packages: ['corechart', 'bar']});

client.onreadystatechange = function() {
    google.charts.setOnLoadCallback(drawChart);

    if (client.readyState == XMLHttpRequest.DONE) {
        json = JSON.parse(client.responseText);
    }

    function drawChart() {

        var data = new google.visualization.DataTable(json.chartData);

        var options = {
            title: json.range,
            chartarea: {width : '60%'},
            colors: ['#b0120a', '#ffab91', '#ffab91'],
            hAxis: {
                title: 'Perf4j barchart',
                minValue: 0
            },
            vAxis: {
                title: 'City'
            }
        };
        var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }
}
client.open("GET", "http://localhost:8090/json", true);
client.send(null);
//    ]]>
</script>
</body>
</html>
